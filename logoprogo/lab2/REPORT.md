#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Савина А.А.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение
Существует множество способов решения логических задач. Например:
1) Метод рассуждений;
2) Метод таблиц;
3) Метод графов;
4) Метод блоков;
и др.

В данной работе я буду использовать первый способ. Он самый простой и удобный при решении задач с небольшим количеством условий.  
У этого способа существует 2 подхода: всего множества решений и отсечения.  
В первом случае мы генерируем все возможные решения и проверяем их на совпадение с условиями. Во втором случае часть возможных решений отсекается сразу, и дальше идут только подходящие решения.  
Решение/ия, походящее/ие всем условием, является/ются ответом задачи.  

Такой способ вместе со вторым подходом делает решение задач является более эффективным.  

Пролог - один из самых удобных языков в решении логических задач. Ведь он основан на теории предикатов первого порядка. Благодаря реляционности Пролога выполнение заданий сводится к написанию фактов и правил (и то, и другое является предикатами), а автоматический перебор и использования трассировки позволяется быстро находит ошибки.  
## Задание
19. Кондратьев, Давыдов и Федоров живут на нашей улице. Один из них столяр, другой  маляр, третий  водопроводчик. Недавно маляр хотел попросить своего знакомого столяра сделать кое-что для своей квартиры, но ему сказали, что столяр работает в доме водопроводчика. Известно также, что Федоров никогда не слышал о Давыдове. Кто чем занимается? 
## Принцип решения

Нам даны 3 профессии (маляр, столяр, водопроводчик), которые нужно правильно сопоставить 3м людям, живущим на одной улице, и следующие условия:
* Маляр хотел попросить своего знакомого столяра сделать кое-что для своей квартиры, но ему сказали, что столяр работает в доме водопроводчика. Из этого следует:  
1) Маляр слышал о столяре;  
2) Столяр слышал о маляре; 
3) Столяр слышал о водопроводчике;  
4) Водопроводчик слышал о столяре;  
5) Так как маляру сказали, что столяр в доме водопроводчика, => маляр слышал о водопроводчике;  
* Фёдоров никогда не слышал о Давыдове.  
Итого, 6 условий.  

Теперь нужно эту информацию преобразовать в предикаты-факты. 
```prolog
prof(painter). % маляр
prof(carpenter). % столяр
prof(plumber). % водопроводчик

heard(painter, carpenter). % 1)
heard(carpenter, painter). % 2)
heard(carpenter, plumber). % 3)
heard(plumber, carpenter). % 4)

heard(painter, plumber). % 5)
```
Условие 6) используем в основном предикате.


Основной предикат - `solution([Con, Dav, Fed])`. Подаём в него список людей, живущих на улице: Кондратьев (Con), Давыдов (Dav) и Федоров (Fed).
Так как все первые 5 условий можно сопоставить только с шестым, зависящим от Федорова и Давыдова, то будет целесообразно для эффективности и безопасности разобраться сначала с ними.
Итак, Федорову и Давыдову ставим в соответствие профессии. Используя оператор `\==`, сразу отсекаем варианты, в которых у Федорова и Давыдова они одинаковы,: `Pr3 \== Pr2`.  
Теперь пришло время применить шестое условие. Первые пять соответсвуют тем людям, которые слышали друг о друге. Федоров не слышал о Давыдове, НО Давыдов мог слышать о Фёдоре.  
То есть нам нужно, чтобы все существующие предикаты-факты, отвечающие за отношения heard, НЕ соблюдались только в отношении `heard(Fed, Dav)`. Получаем: `not(heard(Fed, Dav))`.  
Осталось разобраться с Кандратьевым. Снова используем `\==` оператор и подбираем Кандратьеву такую профессию, которая не совпадает с Федоровым и Давыдовым.

```prolog
solution([Con, Dav, Fed]) :-
	prof(Pr3), prof(Pr2), Pr3 \== Pr2,
	Fed = Pr3, Dav = Pr2,
	not(heard(Fed, Dav)),
	prof(Pr1), Pr3 \== Pr1, Pr2 \== Pr1, 
	Con = Pr1.
```
## Результат
```prolog 
?- solution([Condratiev, Davidov, Fedorov]).
Condratiev = carpenter,
Davidov = painter,
Fedorov = plumber .
```
## Выводы
Метод рассуждений и подход отсечения обеспечивают эффективность решения - операции перебора сведены к минимуму. Это и обеспечивает безопасность (предотвращение зацикливания и комбинаторного взрыва), так как условия отсекают ненужные и лишние комбинации.
Непротиворечивость тоже была достигнута - найдено только одно верное решение.

Не смотря на то, что метод рассуждений подходит для относительно простых задач, для задач с большим количеством данных он вряд ли подойдёт.

А ещё мне кажется, что я что-то сделала неправильно. Как-то мало получилось. Может быть я задание не так поняла. Впрочем, отчёт писать было легче в этот раз.

